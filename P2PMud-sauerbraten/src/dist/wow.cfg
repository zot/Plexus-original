
// activate wow mode so it won't grab the mouse pointer
wowmode 1

// F1 will toggle in and out of wow mode
bind "F1" [ if (= 0 $wowmode) [ echo "Wow emulation activated"; wowmode 1 ] [ echo "Wow emulation deactivated"; wowmode 0 ] ]

// disable first few mouse buttons in this setup
bind "MOUSE1" []
bind "MOUSE2" []
bind "MOUSE3" []
editbind "LSHIFT" [ editextend ]
editbind "MOUSE1" [ ]
editbind "MOUSE2" [  ]

// if the use has extra mouse buttons, let them use them for common map editing
editbind "MOUSE7" [ domodifier 6 ]
editbind "MOUSE6" [ domodifier 0 ]
// we're going to use T for basic map editing, RETURN is to talk now
editbind "T" [ domodifier 0 ]

// functions to support third person zoom in/out
zoomin =  [ if (= $thirdperson 1) [ if (< $thirdpersondistance 11) [  thirdperson 0 ] [ (thirdpersondistance (- $thirdpersondistance 5)) ] ] ]
zoomout = [ if (= $thirdperson 0) [ thirdperson 1; thirdpersondistance 10] [ if (> $thirdpersondistance 74) [thirdpersondistance 75] [ thirdpersondistance (+ 5 $thirdpersondistance) ]  ] ]


// scroll wheel zooms you in and out, at zoom level 10 (closest to toon) turn thirdperson mode off
bind "MOUSE4" [ zoomin ]
bind "MOUSE5" [ zoomout ]

// make delete work the same as backspace
editbind "DELETE" [ editdel ]

// make extra mouse button jump
bind "MOUSE6" [ jump ]

// switch back into mouse capture mode while editing (for now)
//bind "E" [ wowmode 0; edittoggle ]
//editbind "E" [ wowmode 1; edittoggle ]
editbind MOUSE3 []
editbind "MOUSE4" [ universaldelta 1 ]
editbind "MOUSE5" [ universaldelta -1 ]

// this will reroute it so if the scroll wheel is moved in edit mode it will zoom in/out instead
"delta_edit_54" = [ if (= $arg1 1) [ zoomin ] [ zoomout ]  ]
"modifier" = [54]
"defaultmodifier" = [54]


// support for 3D mice
bind KP0 [ spinleft 100 ] 
bind KP1 [ spinright 100 ] 
bind KP2 [ spinup 25 ] 
bind KP3 [ spindown 25 ] 
editbind KP4 [ zup 5; onrelease [ zup 0] ]
editbind KP5 [ zdown 5; onrelease [ zdown 0 ] ]
// end support for 3D mice

//slimmer HUD
tc_hud_image packages/plexus/dist/hud_plexus_slim.png
